<html>
<head>
<title>simulasi.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #1750eb;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #067d17;}
.s5 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
simulasi.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">pygame</span>
<span class="s0">import </span><span class="s1">sys</span>
<span class="s0">import </span><span class="s1">pygame_gui</span>
<span class="s0">from </span><span class="s1">button </span><span class="s0">import </span><span class="s1">Button</span>
<span class="s0">import </span><span class="s1">math</span>

<span class="s1">pygame.init()</span>
<span class="s1">pilihan = </span><span class="s2">0</span>

<span class="s3"># Konstanta layar</span>
<span class="s1">SCREEN_WIDTH = </span><span class="s2">1280</span>
<span class="s1">SCREEN_HEIGHT = </span><span class="s2">720</span>

<span class="s3"># Warna</span>
<span class="s1">WHITE = (</span><span class="s2">255</span><span class="s1">, </span><span class="s2">255</span><span class="s1">, </span><span class="s2">255</span><span class="s1">) </span><span class="s3"># Screen</span>
<span class="s1">BLACK = (</span><span class="s2">0</span><span class="s1">, </span><span class="s2">0</span><span class="s1">, </span><span class="s2">0</span><span class="s1">) </span><span class="s3"># Banyak</span>
<span class="s1">BLUE = (</span><span class="s2">0</span><span class="s1">, </span><span class="s2">0</span><span class="s1">, </span><span class="s2">255</span><span class="s1">) </span><span class="s3"># Titik lengkung</span>
<span class="s1">YELLOW = (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">240</span><span class="s1">, </span><span class="s2">0</span><span class="s1">) </span><span class="s3"># Titik fokus</span>
<span class="s1">GREY = (</span><span class="s2">220</span><span class="s1">, </span><span class="s2">220</span><span class="s1">, </span><span class="s2">220</span><span class="s1">) </span><span class="s3"># Grid</span>
<span class="s1">DARK_GREY = (</span><span class="s2">150</span><span class="s1">, </span><span class="s2">150</span><span class="s1">, </span><span class="s2">150</span><span class="s1">) </span><span class="s3"># Bayangan</span>
<span class="s1">MAGENTA = (</span><span class="s2">255</span><span class="s1">, </span><span class="s2">0 </span><span class="s1">, </span><span class="s2">255</span><span class="s1">) </span><span class="s3"># 1</span>
<span class="s1">TURQUOISE = (</span><span class="s2">64</span><span class="s1">, </span><span class="s2">224</span><span class="s1">, </span><span class="s2">208</span><span class="s1">) </span><span class="s3"># 2</span>
<span class="s1">PURPLE = (</span><span class="s2">128</span><span class="s1">, </span><span class="s2">0 </span><span class="s1">,</span><span class="s2">128</span><span class="s1">) </span><span class="s3"># 3</span>

<span class="s3">#Jari-jari lingkaran (cermin)</span>
<span class="s1">xr = </span><span class="s2">60</span>
<span class="s1">yr = </span><span class="s2">720</span>

<span class="s3"># Inisialisasi jarak titik fokus (nilai default)</span>
<span class="s1">jarak_titik_fokus = </span><span class="s2">150</span>
<span class="s1">jarak_titik_fokus2 = - jarak_titik_fokus</span>
<span class="s3"># Inisialisasi jarak benda (s) dan tinggi benda (h) (nilai default)</span>
<span class="s1">jarak_benda = </span><span class="s2">300</span>
<span class="s1">tinggi_benda = </span><span class="s2">120</span>
<span class="s1">lebar_benda = tinggi_benda * </span><span class="s2">0.1</span>

<span class="s3"># Inisialisasi visibilitas fitur</span>
<span class="s1">visible = </span><span class="s0">True</span>

<span class="s3"># Membuat jendela simulasi</span>
<span class="s1">screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))</span>
<span class="s1">pygame.display.set_caption(</span><span class="s4">&quot;Geometric Optic&quot;</span><span class="s1">)</span>

<span class="s3"># Inisialisasi UI manager</span>
<span class="s1">ui_manager = pygame_gui.UIManager((SCREEN_WIDTH, SCREEN_HEIGHT))</span>

<span class="s3"># Fungsi untuk menyembunyikan slider</span>
<span class="s0">def </span><span class="s1">hide_sliders(sliders):</span>
    <span class="s0">if </span><span class="s1">visible:</span>
        <span class="s0">for </span><span class="s1">slider </span><span class="s0">in </span><span class="s1">sliders:</span>
            <span class="s1">slider.hide()</span>
    <span class="s0">else</span><span class="s1">:</span>
        <span class="s0">for </span><span class="s1">slider </span><span class="s0">in </span><span class="s1">sliders:</span>
            <span class="s1">slider.show()</span>


<span class="s0">def </span><span class="s1">draw_arc(surface, color, rect, start_angle, stop_angle, titik_fokus, lebar):</span>
    <span class="s3"># Helper function to draw a single pixel</span>
    <span class="s0">def </span><span class="s1">draw_pixel(x, y):</span>
        <span class="s1">pygame.draw.circle(surface, color, (int(x), int(y)), lebar)</span>

    <span class="s1">x0, y0, width, height = rect</span>
    <span class="s3"># Calculate center of ellipse</span>
    <span class="s1">cx = x0 + width // </span><span class="s2">2</span>
    <span class="s1">cy = y0 + height // </span><span class="s2">2</span>

    <span class="s3"># Calculate distance from focus point to the center of the program</span>
    <span class="s1">distance_to_center = abs(titik_fokus - width // </span><span class="s2">2</span><span class="s1">)</span>

    <span class="s3"># Interpolate to find the radii</span>
    <span class="s1">min_radius_x = </span><span class="s2">50  </span><span class="s3"># Minimum radius x when titik_fokus is at 0</span>
    <span class="s1">max_radius_x = </span><span class="s2">10  </span><span class="s3"># Maximum radius x when titik_fokus is at 640</span>
    <span class="s1">max_focus_distance = </span><span class="s2">640  </span><span class="s3"># Maximum distance titik_fokus from center for minimum radius</span>
    <span class="s1">rx = min_radius_x + (max_radius_x - min_radius_x) * (</span><span class="s2">1 </span><span class="s1">- distance_to_center / max_focus_distance)</span>

    <span class="s3"># Adjusting ry to be larger than rx to make it more elongated</span>
    <span class="s1">ry = </span><span class="s2">300  </span><span class="s3"># You can adjust this factor to control the elongation</span>

    <span class="s3"># Midpoint algorithm for ellipse drawing</span>
    <span class="s0">def </span><span class="s1">draw_arc_points(cx, cy, rx, ry, start_angle, stop_angle):</span>
        <span class="s3"># Convert angles to degrees</span>
        <span class="s1">start_angle = math.degrees(start_angle)</span>
        <span class="s1">stop_angle = math.degrees(stop_angle)</span>

        <span class="s3"># Ensure stop_angle is greater than start_angle</span>
        <span class="s0">if </span><span class="s1">stop_angle &lt;= start_angle:</span>
            <span class="s1">stop_angle += </span><span class="s2">360</span>

        <span class="s3"># Convert angles back to radians</span>
        <span class="s1">start_angle = math.radians(start_angle)</span>
        <span class="s1">stop_angle = math.radians(stop_angle)</span>

        <span class="s3"># Midpoint algorithm for ellipse drawing</span>
        <span class="s1">theta = start_angle</span>
        <span class="s0">while </span><span class="s1">theta &lt;= stop_angle:</span>
            <span class="s1">x = cx + int(rx * math.cos(theta))</span>
            <span class="s1">y = cy - int(ry * math.sin(theta))</span>
            <span class="s1">draw_pixel(x, y)</span>
            <span class="s1">theta += </span><span class="s2">1 </span><span class="s1">/ max(rx, ry)</span>

    <span class="s1">draw_arc_points(cx, cy, rx, ry, start_angle, stop_angle)</span>

<span class="s0">def </span><span class="s1">draw_grid_DDA(surface, color, width, height, cell_size):</span>
    <span class="s3"># Gambar garis horizontal</span>
    <span class="s0">for </span><span class="s1">y </span><span class="s0">in </span><span class="s1">range(</span><span class="s2">0</span><span class="s1">, height, cell_size):</span>
        <span class="s1">draw_line_DDA(surface, color, (</span><span class="s2">0</span><span class="s1">, y), (width, y), lebar=</span><span class="s2">1</span><span class="s1">)</span>

    <span class="s3"># Gambar garis vertikal</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s2">0</span><span class="s1">, width, cell_size):</span>
        <span class="s1">draw_line_DDA(surface, color, (x, </span><span class="s2">0</span><span class="s1">), (x, height), lebar=</span><span class="s2">1</span><span class="s1">)</span>

<span class="s3"># Fungsi DDA untuk menggambar garis</span>
<span class="s0">def </span><span class="s1">draw_line_DDA(surface, color, start, end, sinar=</span><span class="s0">False</span><span class="s1">, dashed=</span><span class="s0">False</span><span class="s1">, terbalik=</span><span class="s0">False</span><span class="s1">, lebar=</span><span class="s2">2</span><span class="s1">):</span>
    <span class="s1">dx = end[</span><span class="s2">0</span><span class="s1">] - start[</span><span class="s2">0</span><span class="s1">]</span>
    <span class="s1">dy = end[</span><span class="s2">1</span><span class="s1">] - start[</span><span class="s2">1</span><span class="s1">]</span>
    <span class="s1">steps = max(abs(dx), abs(dy))</span>

    <span class="s0">if </span><span class="s1">terbalik:</span>
        <span class="s1">x_increment = -dx / steps</span>
        <span class="s1">y_increment = -dy / steps</span>
    <span class="s0">else</span><span class="s1">:</span>
        <span class="s1">x_increment = dx / steps</span>
        <span class="s1">y_increment = dy / steps</span>

    <span class="s1">x = start[</span><span class="s2">0</span><span class="s1">]</span>
    <span class="s1">y = start[</span><span class="s2">1</span><span class="s1">]</span>

    <span class="s1">draw = </span><span class="s0">True</span>
    <span class="s1">length = </span><span class="s2">0</span>

    <span class="s0">if not </span><span class="s1">sinar:</span>
        <span class="s0">for </span><span class="s1">_ </span><span class="s0">in </span><span class="s1">range(int(steps)):</span>
            <span class="s0">if </span><span class="s1">dashed:</span>
                <span class="s0">if </span><span class="s1">draw:</span>
                    <span class="s1">pygame.draw.circle(surface, color, (int(x), int(y)), lebar)</span>
            <span class="s0">else</span><span class="s1">:</span>
                <span class="s1">pygame.draw.circle(surface, color, (int(x), int(y)), lebar)</span>

            <span class="s1">x += x_increment</span>
            <span class="s1">y += y_increment</span>
            <span class="s1">length += </span><span class="s2">1</span>

            <span class="s0">if </span><span class="s1">dashed </span><span class="s0">and </span><span class="s1">length &gt;= </span><span class="s2">10</span><span class="s1">:</span>
                <span class="s1">draw = </span><span class="s0">not </span><span class="s1">draw</span>
                <span class="s1">length = </span><span class="s2">0</span>
    <span class="s0">else</span><span class="s1">:</span>
        <span class="s0">while </span><span class="s1">(</span><span class="s2">0 </span><span class="s1">&lt;= x &lt; SCREEN_WIDTH) </span><span class="s0">and </span><span class="s1">(</span><span class="s2">0 </span><span class="s1">&lt;= y &lt; SCREEN_HEIGHT):</span>
            <span class="s0">if </span><span class="s1">dashed:</span>
                <span class="s0">if </span><span class="s1">draw:</span>
                    <span class="s1">pygame.draw.circle(surface, color, (int(x), int(y)), lebar)</span>
            <span class="s0">else</span><span class="s1">:</span>
                <span class="s1">pygame.draw.circle(surface, color, (int(x), int(y)), lebar)</span>
            <span class="s1">x += x_increment</span>
            <span class="s1">y += y_increment</span>
            <span class="s1">length += </span><span class="s2">1</span>

            <span class="s0">if </span><span class="s1">dashed </span><span class="s0">and </span><span class="s1">length &gt;= </span><span class="s2">10</span><span class="s1">:</span>
                <span class="s1">draw = </span><span class="s0">not </span><span class="s1">draw</span>
                <span class="s1">length = </span><span class="s2">0</span>

<span class="s3"># Fungsi untuk menggambar huruf pada layar</span>
<span class="s0">def </span><span class="s1">draw_text(surface, text, color, position, size=</span><span class="s2">18</span><span class="s1">):</span>
    <span class="s1">font = pygame.font.SysFont(</span><span class="s4">&quot;lucidaconsole&quot;</span><span class="s1">, size)</span>
    <span class="s1">text_surface = font.render(text, </span><span class="s0">True</span><span class="s1">, color)</span>
    <span class="s1">text_rect = text_surface.get_rect(center=position)  </span><span class="s3"># mengatur posisi teks ke tengah</span>
    <span class="s1">surface.blit(text_surface, text_rect)</span>

<span class="s3"># Fungsi untuk membuat slider</span>
<span class="s0">def </span><span class="s1">create_slider(manager, rect, start_value, value_range):</span>
    <span class="s0">return </span><span class="s1">pygame_gui.elements.UIHorizontalSlider(</span>
        <span class="s1">relative_rect=rect,</span>
        <span class="s1">start_value=start_value,</span>
        <span class="s1">value_range=value_range,</span>
        <span class="s1">manager=manager</span>
    <span class="s1">)</span>

<span class="s0">def </span><span class="s1">create_button(manager, rect, text):</span>
    <span class="s0">return </span><span class="s1">pygame_gui.elements.UIButton(</span>
        <span class="s1">relative_rect=rect,</span>
        <span class="s1">text=text,</span>
        <span class="s1">manager=manager</span>
    <span class="s1">)</span>

<span class="s3"># Loop utama</span>
<span class="s1">clock = pygame.time.Clock()</span>

<span class="s0">def </span><span class="s1">get_font(size):  </span><span class="s3"># Returns Press-Start-2P in the desired size</span>
    <span class="s0">return </span><span class="s1">pygame.font.Font(</span><span class="s4">&quot;assets/Candara_Bold.ttf&quot;</span><span class="s1">, size)</span>

<span class="s3"># Membuat slider untuk tinggi benda</span>
<span class="s1">distance_slider_tinggi = create_slider(ui_manager, pygame.Rect(</span><span class="s2">270</span><span class="s1">, </span><span class="s2">611.25</span><span class="s1">, </span><span class="s2">480</span><span class="s1">, </span><span class="s2">25</span><span class="s1">), </span><span class="s2">50</span><span class="s1">, (-</span><span class="s2">360</span><span class="s1">, </span><span class="s2">360</span><span class="s1">))</span>

<span class="s3"># Membuat slider untuk jarak benda</span>
<span class="s1">distance_slider = create_slider(ui_manager, pygame.Rect(</span><span class="s2">270</span><span class="s1">, </span><span class="s2">647.5</span><span class="s1">, </span><span class="s2">480</span><span class="s1">, </span><span class="s2">25</span><span class="s1">), </span><span class="s2">150</span><span class="s1">, (</span><span class="s2">640</span><span class="s1">, -</span><span class="s2">640</span><span class="s1">))</span>

<span class="s3"># Membuat slider untuk titik fokus</span>
<span class="s1">distance_slider_fokus = create_slider(ui_manager, pygame.Rect(</span><span class="s2">270</span><span class="s1">, </span><span class="s2">683.75</span><span class="s1">, </span><span class="s2">480</span><span class="s1">, </span><span class="s2">25</span><span class="s1">), </span><span class="s2">100</span><span class="s1">, (</span><span class="s2">640</span><span class="s1">, </span><span class="s2">0</span><span class="s1">))</span>

<span class="s1">allowed_characters = [</span><span class="s4">&quot;0&quot;</span><span class="s1">,</span><span class="s4">&quot;1&quot;</span><span class="s1">,</span><span class="s4">&quot;2&quot;</span><span class="s1">,</span><span class="s4">&quot;3&quot;</span><span class="s1">,</span><span class="s4">&quot;4&quot;</span><span class="s1">,</span><span class="s4">&quot;5&quot;</span><span class="s1">,</span><span class="s4">&quot;6&quot;</span><span class="s1">,</span><span class="s4">&quot;7&quot;</span><span class="s1">,</span><span class="s4">&quot;8&quot;</span><span class="s1">,</span><span class="s4">&quot;9&quot;</span><span class="s1">,</span><span class="s4">&quot;-&quot;</span><span class="s1">]</span>

<span class="s3"># Membuat input box untuk tinggi benda</span>
<span class="s1">tinggi_benda_input = pygame_gui.elements.UITextEntryLine(</span>
    <span class="s1">relative_rect=pygame.Rect(SCREEN_WIDTH * </span><span class="s2">0.6</span><span class="s1">, </span><span class="s2">611.25</span><span class="s1">, </span><span class="s2">50</span><span class="s1">, </span><span class="s2">25</span><span class="s1">),</span>
    <span class="s1">manager=ui_manager,</span>
<span class="s1">)</span>
<span class="s1">tinggi_benda_input.set_allowed_characters(allowed_characters)</span>
<span class="s1">tinggi_benda_input.set_text(str(tinggi_benda))</span>

<span class="s1">jarak_benda_input = pygame_gui.elements.UITextEntryLine(</span>
    <span class="s1">relative_rect=pygame.Rect(SCREEN_WIDTH * </span><span class="s2">0.6</span><span class="s1">, </span><span class="s2">647.5</span><span class="s1">, </span><span class="s2">50</span><span class="s1">, </span><span class="s2">25</span><span class="s1">),</span>
    <span class="s1">manager=ui_manager,</span>
<span class="s1">)</span>
<span class="s1">jarak_benda_input.set_allowed_characters(allowed_characters)</span>
<span class="s1">jarak_benda_input.set_text(str(jarak_benda))</span>

<span class="s3"># Membuat input box untuk jarak titik fokus</span>
<span class="s1">jarak_titik_fokus_input = pygame_gui.elements.UITextEntryLine(</span>
    <span class="s1">relative_rect=pygame.Rect(SCREEN_WIDTH * </span><span class="s2">0.6</span><span class="s1">, </span><span class="s2">683.75</span><span class="s1">, </span><span class="s2">50</span><span class="s1">, </span><span class="s2">25</span><span class="s1">),</span>
    <span class="s1">manager=ui_manager,</span>
<span class="s1">)</span>
<span class="s1">jarak_titik_fokus_input.set_allowed_characters(</span><span class="s4">'numbers'</span><span class="s1">)</span>
<span class="s1">jarak_titik_fokus_input.set_text(str(jarak_titik_fokus))</span>
<span class="s3"># List elemen</span>
<span class="s1">sliders = [tinggi_benda_input, jarak_benda_input, jarak_titik_fokus_input, distance_slider_tinggi, distance_slider,</span>
           <span class="s1">distance_slider_fokus]</span>

<span class="s3"># Membuat tombol untuk menyembunyikan dan menampilkan slider</span>
<span class="s1">hide_button = create_button(ui_manager, pygame.Rect(</span><span class="s2">1140</span><span class="s1">, </span><span class="s2">620</span><span class="s1">, </span><span class="s2">100</span><span class="s1">, </span><span class="s2">30</span><span class="s1">), </span><span class="s4">&quot;Hide/Show&quot;</span><span class="s1">)</span>
<span class="s1">back_button = create_button(ui_manager, pygame.Rect(</span><span class="s2">1140</span><span class="s1">, </span><span class="s2">670</span><span class="s1">, </span><span class="s2">100</span><span class="s1">,</span><span class="s2">30</span><span class="s1">), </span><span class="s4">&quot;&lt;&lt;&lt;&quot;</span><span class="s1">)</span>

<span class="s0">def </span><span class="s1">main_menu():</span>
    <span class="s0">while True</span><span class="s1">:</span>
        <span class="s1">screen.fill(WHITE)</span>

        <span class="s1">MENU_MOUSE_POS = pygame.mouse.get_pos()</span>

        <span class="s1">MENU_TEXT = get_font(</span><span class="s2">100</span><span class="s1">).render(</span><span class="s4">&quot;Geometric Optics&quot;</span><span class="s1">, </span><span class="s0">True</span><span class="s1">, </span><span class="s4">&quot;#b68f40&quot;</span><span class="s1">)</span>
        <span class="s1">MENU_RECT = MENU_TEXT.get_rect(center=(</span><span class="s2">640</span><span class="s1">, </span><span class="s2">100</span><span class="s1">))</span>

        <span class="s1">cermin_surface = pygame.image.load(</span><span class="s4">&quot;assets/Cermin.jpg&quot;</span><span class="s1">)</span>
        <span class="s1">cermin_surface = pygame.transform.scale(cermin_surface, (</span><span class="s2">300</span><span class="s1">, </span><span class="s2">400</span><span class="s1">))</span>
        <span class="s1">CERMIN_BUTTON = Button(cermin_surface, pos=(</span><span class="s2">440</span><span class="s1">, </span><span class="s2">360</span><span class="s1">),</span>
                               <span class="s1">text_input=</span><span class="s4">&quot;CONCAVE MIRROR&quot;</span><span class="s1">, font=get_font(</span><span class="s2">30</span><span class="s1">), base_color=</span><span class="s4">&quot;#000000&quot;</span><span class="s1">, hovering_color=</span><span class="s4">&quot;#808080&quot;</span><span class="s1">)</span>

        <span class="s1">lensa_surface = pygame.image.load(</span><span class="s4">&quot;assets/Lensa_Cembung.jpg&quot;</span><span class="s1">)</span>
        <span class="s1">lensa_surface = pygame.transform.scale(lensa_surface, (</span><span class="s2">300</span><span class="s1">, </span><span class="s2">400</span><span class="s1">))</span>
        <span class="s1">LENSA_BUTTON = Button(lensa_surface, pos=(</span><span class="s2">840</span><span class="s1">, </span><span class="s2">360</span><span class="s1">),</span>
                              <span class="s1">text_input=</span><span class="s4">&quot;CONVEX LENS&quot;</span><span class="s1">, font=get_font(</span><span class="s2">30</span><span class="s1">), base_color=</span><span class="s4">&quot;#000000&quot;</span><span class="s1">, hovering_color=</span><span class="s4">&quot;#808080&quot;</span><span class="s1">)</span>

        <span class="s1">screen.blit(MENU_TEXT, MENU_RECT)</span>

        <span class="s0">for </span><span class="s1">button </span><span class="s0">in </span><span class="s1">[CERMIN_BUTTON, LENSA_BUTTON]:</span>
            <span class="s1">button.changeColor(MENU_MOUSE_POS)</span>
            <span class="s1">button.update(screen)</span>

        <span class="s0">for </span><span class="s1">event </span><span class="s0">in </span><span class="s1">pygame.event.get():</span>
            <span class="s0">if </span><span class="s1">event.type == pygame.QUIT:</span>
                <span class="s1">pygame.quit()</span>
                <span class="s1">sys.exit()</span>
            <span class="s0">if </span><span class="s1">event.type == pygame.MOUSEBUTTONDOWN:</span>
                <span class="s0">if </span><span class="s1">CERMIN_BUTTON.checkForInput(MENU_MOUSE_POS):</span>
                    <span class="s1">simulasi(</span><span class="s2">1</span><span class="s1">)</span>
                    <span class="s0">return</span>
                <span class="s0">elif </span><span class="s1">LENSA_BUTTON.checkForInput(MENU_MOUSE_POS):</span>
                    <span class="s1">simulasi(</span><span class="s2">2</span><span class="s1">)</span>
                    <span class="s0">return</span>

        <span class="s1">pygame.display.flip()</span>

<span class="s0">def </span><span class="s1">simulasi(pilihan):</span>
    <span class="s0">global </span><span class="s1">jarak_benda, visible, jarak_titik_fokus, jarak_titik_fokus2, tinggi_benda, lebar_benda, BACK_BUTTON</span>

    <span class="s0">while True</span><span class="s1">:</span>
        <span class="s1">time_delta = clock.tick(</span><span class="s2">120</span><span class="s1">) / </span><span class="s2">1000.0</span>

        <span class="s0">for </span><span class="s1">event </span><span class="s0">in </span><span class="s1">pygame.event.get():</span>
            <span class="s0">if </span><span class="s1">event.type == pygame.QUIT:</span>
                <span class="s1">pygame.quit()</span>
                <span class="s1">sys.exit()</span>
            <span class="s0">if </span><span class="s1">event.type == pygame.USEREVENT:</span>
                <span class="s3"># Periksa jika event berasal dari input box</span>
                <span class="s0">if </span><span class="s1">event.user_type == pygame_gui.UI_TEXT_ENTRY_FINISHED:</span>
                    <span class="s0">if </span><span class="s1">event.ui_element == jarak_benda_input:</span>
                        <span class="s0">if </span><span class="s1">-</span><span class="s2">640 </span><span class="s1">&lt;= float(event.text) &lt;= </span><span class="s2">640</span><span class="s1">:</span>
                            <span class="s1">jarak_benda = float(event.text)</span>

                        <span class="s0">else</span><span class="s1">:</span>
                            <span class="s1">jarak_benda = </span><span class="s2">200</span>
                        <span class="s1">jarak_benda_input.set_text(str(jarak_benda))</span>

                    <span class="s0">elif </span><span class="s1">event.ui_element == jarak_titik_fokus_input:</span>
                        <span class="s0">if </span><span class="s2">0 </span><span class="s1">&lt;= float(event.text) &lt;= </span><span class="s2">640</span><span class="s1">:</span>
                            <span class="s1">jarak_titik_fokus = float(event.text)</span>

                        <span class="s0">else</span><span class="s1">:</span>
                            <span class="s1">jarak_titik_fokus = </span><span class="s2">150</span>

                        <span class="s0">if </span><span class="s1">pilihan == </span><span class="s2">2</span><span class="s1">:</span>
                            <span class="s1">jarak_titik_fokus2 = - jarak_titik_fokus</span>
                        <span class="s1">jarak_titik_fokus_input.set_text(str(jarak_titik_fokus))</span>

                    <span class="s0">elif </span><span class="s1">event.ui_element == tinggi_benda_input:</span>
                        <span class="s0">if </span><span class="s1">-</span><span class="s2">360 </span><span class="s1">&lt;= float(event.text) &lt;= </span><span class="s2">360</span><span class="s1">:</span>
                            <span class="s1">tinggi_benda = float(event.text)</span>
                            <span class="s1">lebar_benda = float(event.text) * </span><span class="s2">0.1</span>

                        <span class="s0">else</span><span class="s1">:</span>
                            <span class="s1">tinggi_benda = </span><span class="s2">120</span>
                            <span class="s1">lebar_benda = tinggi_benda * </span><span class="s2">0.1</span>
                        <span class="s1">tinggi_benda_input.set_text(str(tinggi_benda))</span>

                <span class="s3"># Periksa jika event berasal dari slider</span>
                <span class="s0">elif </span><span class="s1">event.user_type == pygame_gui.UI_HORIZONTAL_SLIDER_MOVED:</span>
                    <span class="s1">slider = event.ui_element</span>
                    <span class="s0">if </span><span class="s1">slider == distance_slider:</span>
                        <span class="s1">jarak_benda = int(event.value)</span>
                        <span class="s1">jarak_benda_input.set_text(str(jarak_benda))</span>

                    <span class="s0">elif </span><span class="s1">slider == distance_slider_fokus:</span>
                        <span class="s1">jarak_titik_fokus = int(event.value)</span>
                        <span class="s1">jarak_titik_fokus_input.set_text(str(jarak_titik_fokus))</span>
                        <span class="s0">if </span><span class="s1">pilihan == </span><span class="s2">2</span><span class="s1">:</span>
                            <span class="s1">jarak_titik_fokus2 = - jarak_titik_fokus</span>

                    <span class="s0">elif </span><span class="s1">slider == distance_slider_tinggi:</span>
                        <span class="s1">tinggi_benda = int(event.value)</span>
                        <span class="s1">lebar_benda = int(event.value) * </span><span class="s2">0.1</span>
                        <span class="s1">tinggi_benda_input.set_text(str(tinggi_benda))</span>

                <span class="s0">elif </span><span class="s1">event.user_type == pygame_gui.UI_BUTTON_PRESSED:</span>
                    <span class="s0">if </span><span class="s1">event.ui_element == hide_button:</span>
                        <span class="s1">hide_sliders(sliders)</span>
                        <span class="s1">visible = </span><span class="s0">not </span><span class="s1">visible</span>
                    <span class="s0">elif </span><span class="s1">event.ui_element == back_button:</span>
                        <span class="s1">main_menu()</span>
                        <span class="s0">return</span>

            <span class="s1">ui_manager.process_events(event)</span>

        <span class="s0">if </span><span class="s1">pilihan == </span><span class="s2">1</span><span class="s1">:</span>
            <span class="s3"># Bersihkan layar</span>
            <span class="s1">screen.fill(WHITE)</span>

            <span class="s3"># Gambar grid</span>
            <span class="s1">draw_grid_DDA(screen, GREY, SCREEN_WIDTH, SCREEN_HEIGHT,</span><span class="s2">60</span><span class="s1">)  </span><span class="s3"># Ubah nilai 60 sesuai dengan ukuran sel yang diinginkan</span>

            <span class="s3"># Gambar sumbu utama (x)</span>
            <span class="s1">draw_line_DDA(screen, BLACK, (</span><span class="s2">0</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">), (SCREEN_WIDTH, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">))</span>

            <span class="s3"># Gambar sumbu utama (y)</span>
            <span class="s1">draw_line_DDA(screen, BLACK, (SCREEN_WIDTH//</span><span class="s2">2</span><span class="s1">, </span><span class="s2">0</span><span class="s1">), (SCREEN_WIDTH//</span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT))</span>

            <span class="s3"># Menggambar cermin</span>
            <span class="s1">draw_arc(screen, BLACK, (-</span><span class="s2">25</span><span class="s1">, </span><span class="s2">0</span><span class="s1">,  SCREEN_WIDTH, SCREEN_HEIGHT), math.radians(</span><span class="s2">270</span><span class="s1">), math.radians(</span><span class="s2">90</span><span class="s1">),jarak_titik_fokus, lebar=</span><span class="s2">1</span><span class="s1">)</span>


            <span class="s3"># Tentukan koordinat titik fokus (f)</span>
            <span class="s1">titik_fokus_x = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - jarak_titik_fokus</span>
            <span class="s1">titik_fokus_y = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Gambar penanda titik fokus (f)</span>
            <span class="s1">pygame.draw.circle(screen, YELLOW, (titik_fokus_x, titik_fokus_y), </span><span class="s2">8</span><span class="s1">)</span>

            <span class="s3"># Tentukan koordinat jari-jari kelengkungan (R)</span>
            <span class="s1">jari_kelengkungan_x = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - (</span><span class="s2">2 </span><span class="s1">* jarak_titik_fokus)</span>
            <span class="s1">jari_kelengkungan_y = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Gambar penanda jari-jari kelengkungan (R)</span>
            <span class="s1">pygame.draw.circle(screen, BLUE, (jari_kelengkungan_x, jari_kelengkungan_y), </span><span class="s2">8</span><span class="s1">)</span>

            <span class="s3"># Tentukan koordinat awal benda</span>
            <span class="s1">start_benda_x1 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - jarak_benda</span>
            <span class="s1">start_benda_y1 = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Tentukan koordinat akhir benda inti</span>
            <span class="s1">end_benda_x1 = start_benda_x1</span>
            <span class="s1">end_benda_y1 = start_benda_y1 - tinggi_benda</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x2 = start_benda_x1 - lebar_benda</span>
            <span class="s1">start_benda_y2 = start_benda_y1</span>

            <span class="s1">end_benda_x2 = start_benda_x2</span>
            <span class="s1">end_benda_y2 = start_benda_y1 - (tinggi_benda * </span><span class="s2">0.615</span><span class="s1">)</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x3 = start_benda_x1 + lebar_benda</span>
            <span class="s1">start_benda_y3 = start_benda_y1</span>

            <span class="s1">end_benda_x3 = start_benda_x3</span>
            <span class="s1">end_benda_y3 = start_benda_y1 - (tinggi_benda * </span><span class="s2">0.615</span><span class="s1">)</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x4 = end_benda_x2</span>
            <span class="s1">start_benda_y4 = end_benda_y2</span>

            <span class="s1">end_benda_x4 = end_benda_x2 - (tinggi_benda * </span><span class="s2">0.215</span><span class="s1">)</span>
            <span class="s1">end_benda_y4 = end_benda_y2</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x5 = end_benda_x3</span>
            <span class="s1">start_benda_y5 = end_benda_y3</span>

            <span class="s1">end_benda_x5 = end_benda_x3 + (tinggi_benda * </span><span class="s2">0.215</span><span class="s1">)</span>
            <span class="s1">end_benda_y5 = end_benda_y3</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x6 = end_benda_x4</span>
            <span class="s1">start_benda_y6 = end_benda_y4</span>

            <span class="s1">end_benda_x6 = end_benda_x1</span>
            <span class="s1">end_benda_y6 = end_benda_y1</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x7 = end_benda_x5</span>
            <span class="s1">start_benda_y7 = end_benda_y5</span>

            <span class="s1">end_benda_x7 = end_benda_x1</span>
            <span class="s1">end_benda_y7 = end_benda_y1</span>

            <span class="s3"># Tentukan koordinat tulisan</span>
            <span class="s1">tulisan_x = SCREEN_WIDTH * </span><span class="s2">0.75</span>
            <span class="s1">tulisan_y = SCREEN_HEIGHT * </span><span class="s2">0.75</span>

            <span class="s0">if </span><span class="s1">jarak_benda != </span><span class="s2">0 </span><span class="s0">and </span><span class="s1">tinggi_benda != </span><span class="s2">0 </span><span class="s0">and </span><span class="s1">jarak_titik_fokus != </span><span class="s2">0</span><span class="s1">:</span>

                <span class="s3"># Gambar benda menggunakan DDA</span>
                <span class="s3"># draw_line_DDA(screen, GREY, (start_benda_x1, start_benda_y1), (end_benda_x1, end_benda_y1))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x2, start_benda_y2), (end_benda_x2, end_benda_y2))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x3, start_benda_y3), (end_benda_x3, end_benda_y3))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x4, start_benda_y4), (end_benda_x4, end_benda_y4))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x5, start_benda_y5), (end_benda_x5, end_benda_y5))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x6, start_benda_y6), (end_benda_x6, end_benda_y6))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x7, start_benda_y7), (end_benda_x7, end_benda_y7))</span>
                <span class="s1">draw_text(screen, </span><span class="s4">&quot;Objek&quot;</span><span class="s1">, BLACK, (end_benda_x1, start_benda_y1 - (tinggi_benda * </span><span class="s2">1.2</span><span class="s1">)))</span>

                <span class="s3"># Pemeriksaan jarak benda dan jarak titik fokus</span>
                <span class="s0">if </span><span class="s1">jarak_benda != jarak_titik_fokus:</span>
                    <span class="s3"># Hitung jarak, tinggi bayangan dan perbesaran bayangan</span>
                    <span class="s1">jarak_bayangan = (jarak_benda * jarak_titik_fokus) / (jarak_benda - jarak_titik_fokus)</span>
                    <span class="s1">tinggi_bayangan = (-jarak_bayangan / jarak_benda) * tinggi_benda</span>
                    <span class="s1">perbesaran = (-jarak_bayangan / jarak_benda)</span>

                    <span class="s3"># Tentukan koordinat awal bayangan inti</span>
                    <span class="s1">start_bayangan_x1 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - jarak_bayangan</span>
                    <span class="s1">start_bayangan_y1 = SCREEN_HEIGHT // </span><span class="s2">2</span>

                    <span class="s3"># Tentukan koordinat akhir bayangan inti</span>
                    <span class="s1">end_bayangan_x1 = start_bayangan_x1</span>
                    <span class="s1">end_bayangan_y1 = start_bayangan_y1 - tinggi_bayangan</span>
                    <span class="s3"># ======================================================#</span>
                    <span class="s1">start_bayangan_x2 = start_bayangan_x1 + (lebar_benda * perbesaran)</span>
                    <span class="s1">start_bayangan_y2 = start_bayangan_y1</span>

                    <span class="s1">end_bayangan_x2 = start_bayangan_x2</span>
                    <span class="s1">end_bayangan_y2 = start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">0.615</span><span class="s1">)</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x3 = start_bayangan_x1 - (lebar_benda * perbesaran)</span>
                    <span class="s1">start_bayangan_y3 = start_bayangan_y1</span>

                    <span class="s1">end_bayangan_x3 = start_bayangan_x3</span>
                    <span class="s1">end_bayangan_y3 = start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">0.615</span><span class="s1">)</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x4 = end_bayangan_x2</span>
                    <span class="s1">start_bayangan_y4 = end_bayangan_y2</span>

                    <span class="s1">end_bayangan_x4 = end_bayangan_x2 + (tinggi_bayangan * </span><span class="s2">0.215</span><span class="s1">)</span>
                    <span class="s1">end_bayangan_y4 = end_bayangan_y2</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x5 = end_bayangan_x3</span>
                    <span class="s1">start_bayangan_y5 = end_bayangan_y3</span>

                    <span class="s1">end_bayangan_x5 = end_bayangan_x3 - (tinggi_bayangan * </span><span class="s2">0.215</span><span class="s1">)</span>
                    <span class="s1">end_bayangan_y5 = end_bayangan_y3</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x6 = end_bayangan_x4</span>
                    <span class="s1">start_bayangan_y6 = end_bayangan_y4</span>

                    <span class="s1">end_bayangan_x6 = end_bayangan_x1</span>
                    <span class="s1">end_bayangan_y6 = end_bayangan_y1</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x7 = end_bayangan_x5</span>
                    <span class="s1">start_bayangan_y7 = end_bayangan_y5</span>

                    <span class="s1">end_bayangan_x7 = end_bayangan_x1</span>
                    <span class="s1">end_bayangan_y7 = end_bayangan_y1</span>

                    <span class="s3"># Gambar bayangan menggunakan DDA</span>
                    <span class="s3"># draw_line_DDA(screen, GREY, (start_bayangan_x1, start_bayangan_y1), (end_bayangan_x1, end_bayangan_y1))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x2, start_bayangan_y2),</span>
                                  <span class="s1">(end_bayangan_x2, end_bayangan_y2))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x3, start_bayangan_y3),</span>
                                  <span class="s1">(end_bayangan_x3, end_bayangan_y3))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x4, start_bayangan_y4),</span>
                                  <span class="s1">(end_bayangan_x4, end_bayangan_y4))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x5, start_bayangan_y5),</span>
                                  <span class="s1">(end_bayangan_x5, end_bayangan_y5))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x6, start_bayangan_y6),</span>
                                  <span class="s1">(end_bayangan_x6, end_bayangan_y6))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x7, start_bayangan_y7),</span>
                                  <span class="s1">(end_bayangan_x7, end_bayangan_y7))</span>

                    <span class="s0">if </span><span class="s1">jarak_benda &gt; </span><span class="s2">0</span><span class="s1">:</span>

                        <span class="s0">if </span><span class="s1">jarak_benda &gt; jarak_titik_fokus:</span>

                            <span class="s0">if </span><span class="s1">jarak_benda &gt; jarak_titik_fokus * </span><span class="s2">2</span><span class="s1">:  </span><span class="s3"># Ruang 3</span>
                                <span class="s1">sifat = (</span><span class="s4">&quot;Nyata, Terbalik, Diperkecil&quot;</span><span class="s1">)</span>

                            <span class="s0">elif </span><span class="s1">jarak_benda == jarak_titik_fokus * </span><span class="s2">2</span><span class="s1">:  </span><span class="s3"># Di jari-jari kelengkungan</span>
                                <span class="s1">sifat = (</span><span class="s4">&quot;Nyata, Terbalik, Sama besar&quot;</span><span class="s1">)</span>

                            <span class="s0">elif </span><span class="s1">jarak_benda &gt; jarak_titik_fokus:  </span><span class="s3"># Ruang 2</span>
                                <span class="s1">sifat = (</span><span class="s4">&quot;Nyata, Terbalik, Diperbesar&quot;</span><span class="s1">)</span>

                            <span class="s3"># Sinar istimewa pertama</span>
                            <span class="s3"># Garis pertama</span>
                            <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                          <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                            <span class="s3"># Garis kedua</span>
                            <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                          <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">)</span>

                            <span class="s3"># Sinar istimewa kedua</span>
                            <span class="s3"># Garis pertama</span>
                            <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                          <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">)</span>
                            <span class="s3"># Garis kedua</span>
                            <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                          <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>


                        <span class="s0">else</span><span class="s1">:  </span><span class="s3"># Ruang 1</span>
                            <span class="s1">sifat = (</span><span class="s4">&quot;Maya, Tegak, Diperbesar&quot;</span><span class="s1">)</span>
                            <span class="s3"># Sinar istimewa pertama</span>
                            <span class="s3"># Garis pertama</span>
                            <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                          <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                            <span class="s3"># Garis kedua</span>
                            <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                          <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                            <span class="s3"># Garis Ketiga</span>
                            <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                          <span class="s1">(titik_fokus_x, titik_fokus_y), </span><span class="s0">True</span><span class="s1">)</span>

                            <span class="s3"># Sinar istimewa kedua</span>
                            <span class="s3"># Garis pertama</span>
                            <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                          <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                            <span class="s3"># Garis kedua</span>
                            <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                          <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                            <span class="s3"># Garis Ketiga</span>
                            <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                          <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                        <span class="s1">draw_text(screen, sifat, BLACK, (</span>
                        <span class="s1">start_bayangan_x1, start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">1.2</span><span class="s1">)))  </span><span class="s3"># Tampilkan teks sifat bayangan</span>


                    <span class="s0">else</span><span class="s1">:  </span><span class="s3"># Cembung</span>
                        <span class="s1">sifat = (</span><span class="s4">&quot;Maya, Tegak, Diperkecil&quot;</span><span class="s1">)</span>

                        <span class="s3"># Sinar istimewa pertama</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (start_benda_x1, end_benda_y1),</span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis ketiga</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                        <span class="s3"># Sinar istimewa kedua</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                        <span class="s1">draw_text(screen, sifat, BLACK, (start_bayangan_x1, start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">1.2</span><span class="s1">)))  </span><span class="s3"># Tampilkan teks sifat bayangan</span>

                <span class="s0">else</span><span class="s1">:</span>
                    <span class="s3"># Sinar istimewa pertama</span>
                    <span class="s3"># Garis pertama</span>
                    <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (end_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                    <span class="s3"># Garis kedua</span>
                    <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (titik_fokus_x, titik_fokus_y), </span><span class="s0">True</span><span class="s1">)</span>

                    <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (titik_fokus_x, titik_fokus_y),</span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                    <span class="s3"># Sinar istimewa ketiga</span>
                    <span class="s3"># Garis pertama</span>
                    <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, start_benda_y1 - (tinggi_benda * </span><span class="s2">2</span><span class="s1">)), (jari_kelengkungan_x, jari_kelengkungan_y), </span><span class="s0">True</span><span class="s1">)</span>
                    <span class="s3"># Garis kedua</span>
                    <span class="s1">draw_line_DDA(screen, TURQUOISE, (jari_kelengkungan_x, jari_kelengkungan_y), (start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

            <span class="s0">if </span><span class="s1">visible:</span>
                <span class="s3"># Gambar persegi panjang berwarna grey</span>
                <span class="s1">pygame.draw.rect(screen, GREY, (</span><span class="s2">210</span><span class="s1">, </span><span class="s2">600</span><span class="s1">, </span><span class="s2">860</span><span class="s1">, </span><span class="s2">120</span><span class="s1">))</span>

                <span class="s3"># Keterangan slider</span>
                <span class="s1">draw_text(screen, </span><span class="s4">&quot;h -&gt;&quot;</span><span class="s1">, BLACK, (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                <span class="s1">draw_text(screen, </span><span class="s4">&quot;d -&gt;&quot;</span><span class="s1">, BLACK, (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                <span class="s1">draw_text(screen, </span><span class="s4">&quot;f -&gt;&quot;</span><span class="s1">, BLACK, (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s0">if </span><span class="s1">jarak_benda != </span><span class="s2">0 </span><span class="s0">and </span><span class="s1">jarak_titik_fokus !=</span><span class="s2">0 </span><span class="s0">and </span><span class="s1">tinggi_benda !=</span><span class="s2">0 </span><span class="s0">and </span><span class="s1">jarak_benda != jarak_titik_fokus:</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;ho: </span><span class="s5">{</span><span class="s1">round(tinggi_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;hi: </span><span class="s5">{</span><span class="s1">round(tinggi_bayangan, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;do: </span><span class="s5">{</span><span class="s1">round(jarak_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;di: </span><span class="s5">{</span><span class="s1">round(jarak_bayangan, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;f: </span><span class="s5">{</span><span class="s1">round(jarak_titik_fokus, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;M: </span><span class="s5">{</span><span class="s1">round(perbesaran, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s0">elif </span><span class="s1">jarak_benda &lt; </span><span class="s2">0</span><span class="s1">:</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;ho: </span><span class="s5">{</span><span class="s1">round(tinggi_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}    </span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;hi: </span><span class="s5">{</span><span class="s1">round(tinggi_bayangan, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;do: </span><span class="s5">{</span><span class="s1">round(jarak_benda, </span><span class="s2">1</span><span class="s1">) * - </span><span class="s2">1</span><span class="s5">}     </span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">),</span>
                              <span class="s1">size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;di: </span><span class="s5">{</span><span class="s1">round(jarak_bayangan, </span><span class="s2">1</span><span class="s1">) * -</span><span class="s2">1</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;f: </span><span class="s5">{</span><span class="s1">round(jarak_titik_fokus, </span><span class="s2">1</span><span class="s1">) * -</span><span class="s2">1</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">),</span>
                              <span class="s1">size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;M: </span><span class="s5">{</span><span class="s1">round(perbesaran, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s0">else</span><span class="s1">:</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;ho: </span><span class="s5">{</span><span class="s1">round(tinggi_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;hi: ?&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;do: </span><span class="s5">{</span><span class="s1">round(jarak_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;di: ?&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;f: </span><span class="s5">{</span><span class="s1">round(jarak_titik_fokus, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;M: ?&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>
                    <span class="s1">draw_text(screen, </span><span class="s4">&quot;Tidak ada bayangan&quot;</span><span class="s1">, BLACK, (tulisan_x, tulisan_y))  </span><span class="s3"># Tampilkan teks sifat bayangan</span>

        <span class="s0">elif </span><span class="s1">pilihan == </span><span class="s2">2</span><span class="s1">:</span>
            <span class="s3"># Bersihkan layar</span>
            <span class="s1">screen.fill(WHITE)</span>

            <span class="s3"># Gambar grid</span>
            <span class="s1">draw_grid_DDA(screen, GREY, SCREEN_WIDTH, SCREEN_HEIGHT,</span>
                          <span class="s2">60</span><span class="s1">)  </span><span class="s3"># Ubah nilai 60 sesuai dengan ukuran sel yang Anda inginkan</span>

            <span class="s3"># Gambar sumbu utama (x)</span>
            <span class="s1">draw_line_DDA(screen, BLACK, (</span><span class="s2">0</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">), (SCREEN_WIDTH, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">))</span>

            <span class="s3"># Gamabr sumbu y</span>
            <span class="s1">draw_line_DDA(screen, BLACK, (SCREEN_WIDTH//</span><span class="s2">2</span><span class="s1">, </span><span class="s2">0</span><span class="s1">), (SCREEN_WIDTH//</span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT))</span>

            <span class="s1">draw_arc(screen, BLACK, (</span><span class="s2">0</span><span class="s1">, </span><span class="s2">0</span><span class="s1">, SCREEN_WIDTH, SCREEN_HEIGHT), math.radians(</span><span class="s2">90</span><span class="s1">), math.radians(</span><span class="s2">90</span><span class="s1">), jarak_titik_fokus, lebar = </span><span class="s2">1</span><span class="s1">)</span>

            <span class="s3"># Tentukan koordinat titik fokus (f1)</span>
            <span class="s1">titik_fokus_x1 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - jarak_titik_fokus</span>
            <span class="s1">titik_fokus_y1 = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Tentukan koordinat titik fokus (f2)</span>
            <span class="s1">titik_fokus_x2 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - jarak_titik_fokus2</span>
            <span class="s1">titik_fokus_y2 = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Gambar penanda titik fokus (f1)</span>
            <span class="s1">pygame.draw.circle(screen, YELLOW, (titik_fokus_x1, titik_fokus_y1), </span><span class="s2">5.5</span><span class="s1">)</span>
            <span class="s3"># Gambar penanda titik fokus (f2)</span>
            <span class="s1">pygame.draw.circle(screen, YELLOW, (titik_fokus_x2, titik_fokus_y2), </span><span class="s2">5.5</span><span class="s1">)</span>

            <span class="s3"># Tentukan koordinat jari-jari kelengkungan (R1)</span>
            <span class="s1">jari_kelengkungan_x1 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - (</span><span class="s2">2 </span><span class="s1">* jarak_titik_fokus)</span>
            <span class="s1">jari_kelengkungan_y1 = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Tentukan koordinat jari-jari kelengkungan (R1)</span>
            <span class="s1">jari_kelengkungan_x2 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - (</span><span class="s2">2 </span><span class="s1">* jarak_titik_fokus2)</span>
            <span class="s1">jari_kelengkungan_y2 = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Gambar penanda jari-jari kelengkungan (R1)</span>
            <span class="s1">pygame.draw.circle(screen, BLUE, (jari_kelengkungan_x1, jari_kelengkungan_y1), </span><span class="s2">5.5</span><span class="s1">)</span>

            <span class="s3"># Gambar penanda jari-jari kelengkungan (R2)</span>
            <span class="s1">pygame.draw.circle(screen, BLUE, (jari_kelengkungan_x2, jari_kelengkungan_y2), </span><span class="s2">5.5</span><span class="s1">)</span>

            <span class="s3"># Tentukan koordinat awal benda</span>
            <span class="s1">start_benda_x1 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) - jarak_benda</span>
            <span class="s1">start_benda_y1 = SCREEN_HEIGHT // </span><span class="s2">2</span>

            <span class="s3"># Tentukan koordinat akhir benda</span>
            <span class="s1">end_benda_x1 = start_benda_x1</span>
            <span class="s1">end_benda_y1 = start_benda_y1 - tinggi_benda</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x2 = start_benda_x1 - lebar_benda</span>
            <span class="s1">start_benda_y2 = start_benda_y1</span>

            <span class="s1">end_benda_x2 = start_benda_x2</span>
            <span class="s1">end_benda_y2 = start_benda_y1 - (tinggi_benda * </span><span class="s2">0.615</span><span class="s1">)  </span><span class="s3"># BERHASIL WE DID IT</span>

            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x3 = start_benda_x1 + lebar_benda</span>
            <span class="s1">start_benda_y3 = start_benda_y1</span>

            <span class="s1">end_benda_x3 = start_benda_x3</span>
            <span class="s1">end_benda_y3 = start_benda_y1 - (tinggi_benda * </span><span class="s2">0.615</span><span class="s1">)</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x4 = end_benda_x2</span>
            <span class="s1">start_benda_y4 = end_benda_y2</span>

            <span class="s1">end_benda_x4 = end_benda_x2 - (tinggi_benda * </span><span class="s2">0.215</span><span class="s1">)</span>
            <span class="s1">end_benda_y4 = end_benda_y2</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x5 = end_benda_x3</span>
            <span class="s1">start_benda_y5 = end_benda_y3</span>

            <span class="s1">end_benda_x5 = end_benda_x3 + (tinggi_benda * </span><span class="s2">0.215</span><span class="s1">)</span>
            <span class="s1">end_benda_y5 = end_benda_y3</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x6 = end_benda_x4</span>
            <span class="s1">start_benda_y6 = end_benda_y4</span>

            <span class="s1">end_benda_x6 = end_benda_x1</span>
            <span class="s1">end_benda_y6 = end_benda_y1</span>
            <span class="s3"># ================================================#</span>
            <span class="s1">start_benda_x7 = end_benda_x5</span>
            <span class="s1">start_benda_y7 = end_benda_y5</span>

            <span class="s1">end_benda_x7 = end_benda_x1</span>
            <span class="s1">end_benda_y7 = end_benda_y1</span>

            <span class="s3"># Tentukan koordinat tulisan</span>
            <span class="s1">tulisan_x = SCREEN_WIDTH * </span><span class="s2">0.75</span>
            <span class="s1">tulisan_y = SCREEN_HEIGHT * </span><span class="s2">0.75</span>

            <span class="s0">if </span><span class="s1">jarak_benda != </span><span class="s2">0 </span><span class="s0">and </span><span class="s1">tinggi_benda != </span><span class="s2">0 </span><span class="s0">and </span><span class="s1">jarak_titik_fokus != </span><span class="s2">0</span><span class="s1">:</span>
                <span class="s3"># Gambar benda menggunakan DDA</span>
                <span class="s3"># draw_line_DDA(screen, BLACK, (start_benda_x1, start_benda_y1), (end_benda_x1, end_benda_y1))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x2, start_benda_y2), (end_benda_x2, end_benda_y2))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x3, start_benda_y3), (end_benda_x3, end_benda_y3))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x4, start_benda_y4), (end_benda_x4, end_benda_y4))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x5, start_benda_y5), (end_benda_x5, end_benda_y5))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x6, start_benda_y6), (end_benda_x6, end_benda_y6))</span>
                <span class="s1">draw_line_DDA(screen, BLACK, (start_benda_x7, start_benda_y7), (end_benda_x7, end_benda_y7))</span>
                <span class="s1">draw_text(screen, </span><span class="s4">&quot;Objek&quot;</span><span class="s1">, BLACK, (end_benda_x1, start_benda_y1 - (tinggi_benda * </span><span class="s2">1.2</span><span class="s1">)))</span>

                <span class="s3"># Pemeriksaan jarak benda dan jarak titik fokus</span>
                <span class="s0">if </span><span class="s1">jarak_benda != jarak_titik_fokus:</span>
                    <span class="s3"># Hitung jarak dan tinggi bayangan</span>
                    <span class="s1">jarak_bayangan = (jarak_benda * jarak_titik_fokus) / (jarak_benda - jarak_titik_fokus)</span>
                    <span class="s1">tinggi_bayangan = (-jarak_bayangan / jarak_benda) * tinggi_benda</span>
                    <span class="s1">perbesaran = (-jarak_bayangan / jarak_benda)</span>

                    <span class="s3"># Tentukan koordinat awal bayangan</span>
                    <span class="s1">start_bayangan_x1 = (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">) + jarak_bayangan</span>
                    <span class="s1">start_bayangan_y1 = SCREEN_HEIGHT // </span><span class="s2">2</span>

                    <span class="s3"># Tentukan koordinat akhir bayangan</span>
                    <span class="s1">end_bayangan_x1 = start_bayangan_x1</span>
                    <span class="s1">end_bayangan_y1 = start_bayangan_y1 - tinggi_bayangan</span>
                    <span class="s3"># ======================================================#</span>
                    <span class="s1">start_bayangan_x2 = start_bayangan_x1 + (lebar_benda * perbesaran)</span>
                    <span class="s1">start_bayangan_y2 = start_bayangan_y1</span>

                    <span class="s1">end_bayangan_x2 = start_bayangan_x2</span>
                    <span class="s1">end_bayangan_y2 = start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">0.615</span><span class="s1">)</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x3 = start_bayangan_x1 - (lebar_benda * perbesaran)</span>
                    <span class="s1">start_bayangan_y3 = start_bayangan_y1</span>

                    <span class="s1">end_bayangan_x3 = start_bayangan_x3</span>
                    <span class="s1">end_bayangan_y3 = start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">0.615</span><span class="s1">)</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x4 = end_bayangan_x2</span>
                    <span class="s1">start_bayangan_y4 = end_bayangan_y2</span>

                    <span class="s1">end_bayangan_x4 = end_bayangan_x2 + (tinggi_bayangan * </span><span class="s2">0.215</span><span class="s1">)</span>
                    <span class="s1">end_bayangan_y4 = end_bayangan_y2</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x5 = end_bayangan_x3</span>
                    <span class="s1">start_bayangan_y5 = end_bayangan_y3</span>

                    <span class="s1">end_bayangan_x5 = end_bayangan_x3 - (tinggi_bayangan * </span><span class="s2">0.215</span><span class="s1">)</span>
                    <span class="s1">end_bayangan_y5 = end_bayangan_y3</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x6 = end_bayangan_x4</span>
                    <span class="s1">start_bayangan_y6 = end_bayangan_y4</span>

                    <span class="s1">end_bayangan_x6 = end_bayangan_x1</span>
                    <span class="s1">end_bayangan_y6 = end_bayangan_y1</span>
                    <span class="s3"># ========================================================#</span>
                    <span class="s1">start_bayangan_x7 = end_bayangan_x5</span>
                    <span class="s1">start_bayangan_y7 = end_bayangan_y5</span>

                    <span class="s1">end_bayangan_x7 = end_bayangan_x1</span>
                    <span class="s1">end_bayangan_y7 = end_bayangan_y1</span>

                    <span class="s3"># Gambar bayangan menggunakan DDA</span>
                    <span class="s3"># draw_line_DDA(screen, GREY, (start_bayangan_x1, start_bayangan_y1), (end_bayangan_x1, end_bayangan_y1))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x2, start_bayangan_y2),</span>
                                  <span class="s1">(end_bayangan_x2, end_bayangan_y2))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x3, start_bayangan_y3),</span>
                                  <span class="s1">(end_bayangan_x3, end_bayangan_y3))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x4, start_bayangan_y4),</span>
                                  <span class="s1">(end_bayangan_x4, end_bayangan_y4))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x5, start_bayangan_y5),</span>
                                  <span class="s1">(end_bayangan_x5, end_bayangan_y5))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x6, start_bayangan_y6),</span>
                                  <span class="s1">(end_bayangan_x6, end_bayangan_y6))</span>
                    <span class="s1">draw_line_DDA(screen, DARK_GREY, (start_bayangan_x7, start_bayangan_y7),</span>
                                  <span class="s1">(end_bayangan_x7, end_bayangan_y7))</span>

                    <span class="s0">if </span><span class="s1">jarak_benda &gt; jarak_titik_fokus:</span>

                        <span class="s0">if </span><span class="s1">jarak_benda &gt; jarak_titik_fokus * </span><span class="s2">2</span><span class="s1">:  </span><span class="s3"># Ruang 3</span>
                            <span class="s1">sifat = </span><span class="s4">&quot;Nyata, Terbalik, Diperkecil&quot;</span>

                        <span class="s0">elif </span><span class="s1">jarak_benda == jarak_titik_fokus * </span><span class="s2">2</span><span class="s1">:  </span><span class="s3"># Di jari-jari kelengkungan</span>
                            <span class="s1">sifat = </span><span class="s4">&quot;Nyata, Terbalik, Sama besar&quot;</span>

                        <span class="s0">elif </span><span class="s1">jarak_benda &gt; jarak_titik_fokus:  </span><span class="s3"># Ruang 2</span>
                            <span class="s1">sifat = </span><span class="s4">&quot;Nyata, Terbalik, Diperbesar&quot;</span>

                        <span class="s3"># Sinar istimewa pertama</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3">#</span>
                        <span class="s3"># Sinar istimewa kedua</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>

                        <span class="s3"># Sinar istimewa ketiga</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, PURPLE, (start_benda_x1, end_benda_y1),</span>
                                      <span class="s1">(SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, PURPLE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>

                    <span class="s0">elif </span><span class="s1">jarak_benda &lt; </span><span class="s2">0</span><span class="s1">:  </span><span class="s3"># Belakang</span>
                        <span class="s1">sifat = </span><span class="s4">&quot;Nyata, Tegak, Diperkecil&quot;</span>
                        <span class="s3"># Sinar istimewa pertama</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis ketiga</span>
                        <span class="s3"># draw_sinar_DDA(screen, ZAITUN, (SCREEN_WIDTH // 2, end_benda_y1), (start_bayangan_x1, end_bayangan_y1),False, True)</span>
                        <span class="s3"># Sinar istimewa kedua</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis ketiga</span>
                        <span class="s3"># draw_sinar_DDA(screen, DEEP_PURPLE, (SCREEN_WIDTH // 2, end_bayangan_y1),(start_benda_x1, end_benda_y1), True, False, True)</span>

                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, PURPLE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, PURPLE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                    <span class="s0">elif </span><span class="s1">jarak_benda &lt; jarak_titik_fokus:  </span><span class="s3"># Ruang 1</span>
                        <span class="s1">sifat = </span><span class="s4">&quot;Maya, Tegak, Diperbesar&quot;</span>
                        <span class="s3"># Sinar istimewa pertama</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis ketiga</span>
                        <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Sinar istimewa kedua</span>
                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis ketiga</span>
                        <span class="s1">draw_line_DDA(screen, TURQUOISE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_bayangan_y1),</span>
                                      <span class="s1">(start_bayangan_x1, end_bayangan_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                        <span class="s3"># Garis pertama</span>
                        <span class="s1">draw_line_DDA(screen, PURPLE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>
                        <span class="s3"># Garis kedua</span>
                        <span class="s1">draw_line_DDA(screen, PURPLE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">),</span>
                                      <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">, </span><span class="s0">False</span><span class="s1">, </span><span class="s0">True</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, sifat, BLACK,</span>
                              <span class="s1">(start_bayangan_x1, start_bayangan_y1 - (tinggi_bayangan * </span><span class="s2">1.2</span><span class="s1">)))  </span><span class="s3"># Tampilkan teks sifat bayangan</span>

                <span class="s0">else</span><span class="s1">:</span>
                    <span class="s3"># Sinar istimewa pertama</span>
                    <span class="s3"># Garis pertama</span>
                    <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (start_benda_x1, end_benda_y1),</span>
                                  <span class="s0">True</span><span class="s1">)</span>
                    <span class="s3"># Garis kedua</span>
                    <span class="s1">draw_line_DDA(screen, MAGENTA, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, end_benda_y1), (titik_fokus_x2, titik_fokus_y2),</span>
                                  <span class="s0">True</span><span class="s1">)</span>

                    <span class="s3"># Sinar istimewa ketiga</span>
                    <span class="s3"># Garis pertama</span>
                    <span class="s1">draw_line_DDA(screen, PURPLE, (start_benda_x1, end_benda_y1),</span>
                                  <span class="s1">(SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">), </span><span class="s0">True</span><span class="s1">)</span>
                    <span class="s3"># Garis kedua</span>
                    <span class="s1">draw_line_DDA(screen, PURPLE, (SCREEN_WIDTH // </span><span class="s2">2</span><span class="s1">, SCREEN_HEIGHT // </span><span class="s2">2</span><span class="s1">),</span>
                                  <span class="s1">(start_benda_x1, end_benda_y1), </span><span class="s0">True</span><span class="s1">)</span>

            <span class="s0">if </span><span class="s1">visible:</span>

                <span class="s3"># Gambar persegi panjang berwarna grey</span>
                <span class="s1">pygame.draw.rect(screen, GREY, (</span><span class="s2">210</span><span class="s1">, </span><span class="s2">600</span><span class="s1">, </span><span class="s2">860</span><span class="s1">, </span><span class="s2">120</span><span class="s1">))</span>

                <span class="s3"># Keterangan slider</span>
                <span class="s1">draw_text(screen, </span><span class="s4">&quot;h -&gt;&quot;</span><span class="s1">, BLACK, (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s1">draw_text(screen, </span><span class="s4">&quot;d -&gt;&quot;</span><span class="s1">, BLACK, (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s1">draw_text(screen, </span><span class="s4">&quot;f -&gt;&quot;</span><span class="s1">, BLACK, (</span><span class="s2">240</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s0">if </span><span class="s1">jarak_benda != </span><span class="s2">0 </span><span class="s0">and </span><span class="s1">jarak_titik_fokus !=</span><span class="s2">0 </span><span class="s0">and </span><span class="s1">tinggi_benda !=</span><span class="s2">0 </span><span class="s0">and </span><span class="s1">jarak_benda != jarak_titik_fokus:</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;ho: </span><span class="s5">{</span><span class="s1">round(tinggi_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;hi: </span><span class="s5">{</span><span class="s1">round(tinggi_bayangan, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;do: </span><span class="s5">{</span><span class="s1">round(jarak_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;di: </span><span class="s5">{</span><span class="s1">round(jarak_bayangan, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;f: </span><span class="s5">{</span><span class="s1">round(jarak_titik_fokus, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;M: </span><span class="s5">{</span><span class="s1">round(perbesaran, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                <span class="s0">else</span><span class="s1">:</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;ho: </span><span class="s5">{</span><span class="s1">round(tinggi_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;hi: ?&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">623.25</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;do: </span><span class="s5">{</span><span class="s1">round(jarak_benda, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;di: ?&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">659.5</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;f: </span><span class="s5">{</span><span class="s1">round(jarak_titik_fokus, </span><span class="s2">1</span><span class="s1">)</span><span class="s5">}</span><span class="s4">&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.69</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">f&quot;M: ?&quot;</span><span class="s1">, BLACK, (SCREEN_WIDTH * </span><span class="s2">0.775</span><span class="s1">, </span><span class="s2">695.75</span><span class="s1">), size=</span><span class="s2">16</span><span class="s1">)</span>

                    <span class="s1">draw_text(screen, </span><span class="s4">&quot;Tidak ada bayangan&quot;</span><span class="s1">, BLACK, (tulisan_x, tulisan_y))</span>

        <span class="s3"># Tampilkan slider dan elemen UI lainnya</span>
        <span class="s1">ui_manager.update(time_delta)</span>
        <span class="s1">ui_manager.draw_ui(screen)</span>

        <span class="s3"># Tampilkan perubahan layar</span>
        <span class="s1">pygame.display.flip()</span>

<span class="s1">main_menu()</span></pre>
</body>
</html>